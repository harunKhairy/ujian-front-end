{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HARUN\\\\Documents\\\\GitHub\\\\ujian-front-end\\\\src\\\\pages\\\\ChangePassword.jsx\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Axios from 'axios';\nimport { connect } from 'react-redux';\nimport Swal from 'sweetalert2';\nimport { API_URL } from \"../supports/ApiUrl\";\nimport { userChangePassword } from '../redux/actions';\n\nclass SettingUser extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      passChangeSuccess: false\n    };\n\n    this.handleChangePassClick = () => {\n      var currentPassword = this.refs.currentPassword.value;\n      var passwordbaru = this.refs.passwordbaru.value;\n      var password = this.refs.konfirmasipassword.value;\n      var updatePass = {\n        password,\n        username: this.props.usernamechangepass,\n        role: this.props.role\n      };\n      console.log(updatePass);\n\n      if (currentPassword === \"\" || passwordbaru === \"\" || password === \"\") {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Oops...\",\n          text: \"Password Gaboleh Kosong!\"\n        });\n      } else if (currentPassword === passwordbaru) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Oops...\",\n          text: \"Password Baru tidak boleh sama dgn password lama\"\n        });\n      } else if (currentPassword !== this.props.passuser) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Oops...\",\n          text: \"Password yang anda masukkan salah\"\n        });\n      } else if (passwordbaru !== password) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Oops...\",\n          text: \"Password baru sama konfirmasi musti sama\"\n        });\n      } else {\n        Axios.put(`${API_URL}/users/${this.props.userid}`, updatePass).then(res => {\n          // console.log(res.data);\n          Swal.fire({\n            title: \"Anda Yakin?\",\n            showCancelButton: true,\n            confirmButtonColor: \"#3085d6\",\n            cancelButtonColor: \"#d33\",\n            cancelButtonText: \"Ora Sido\",\n            confirmButtonText: \"Sangat Yakin\"\n          }).then(result => {\n            if (result.value) {\n              this.props.GantiPassword(res.data);\n              this.setState({\n                passChangeSuccess: true\n              });\n              Swal.fire({\n                title: \"Mantap.. Password telah terganti.\",\n                showConfirmButton: false,\n                timer: 3000\n              });\n            }\n          });\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props.usernamechangepass);\n  }\n\n  render() {\n    if (this.state.passChangeSuccess || this.props.userlog === false) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"register-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleChangePassClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"auth-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"register-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Change Password\"), React.createElement(\"p\", {\n      className: \"register-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, this.props.usernamechangepass, \" \"), React.createElement(\"input\", {\n      className: \"input\",\n      placeholder: \"password saat ini\",\n      type: \"password\",\n      ref: \"currentPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"input\",\n      placeholder: \"password baru\",\n      type: \"password\",\n      ref: \"passwordbaru\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"input\",\n      placeholder: \"konfirmasi password baru\",\n      type: \"password\",\n      ref: \"konfirmasipassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"register\",\n      onClick: this.handleChangePassClick,\n      title: \"Register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"submit \")))) // <div>\n    //     <div style={{marginBottom:'220px'}} className='container'>\n    //         <h2 style={{textAlign:'center', paddingTop:'50px'}}>Silahkan Ganti Password</h2>\n    //       <center>\n    //       <div className='settinguser'>\n    //       <Form.Group style={{textAlign:'center'}} controlId=\"formBasicPassword\">\n    //       <Form.Label style={{fontWeight:'bold'}}>Username</Form.Label>\n    //       <Form.Control style={{textAlign:'center'}} type=\"text\"   defaultValue={this.props.usernamechangepass}\n    //       ref=\"user\" disabled/>\n    //       </Form.Group>\n    //       <Form.Group controlId=\"formBasicPassword\">\n    //        <Form.Control style={{textAlign:'center'}} type=\"password\" ref='currentPassword' placeholder=\"Ketik Password Lama\" />\n    //        </Form.Group>\n    //        <Form.Group controlId=\"formBasicPassword\">\n    //        <Form.Control style={{textAlign:'center'}} type=\"password\" ref='passwordbaru' placeholder=\"Ketik Password Baru\" />\n    //        </Form.Group>\n    //        <Form.Group controlId=\"formBasicPassword\">\n    //        <Form.Control style={{textAlign:'center'}} type=\"password\" ref='konfirmasipassword' placeholder=\"Konfirmasi Password Baru\" />\n    //        </Form.Group>\n    //        <Button onClick={this.handleChangePassClick}  variant=\"danger\" >Submit</Button>\n    //       </div>\n    //       </center>\n    //     </div>\n    // </div>\n    ;\n  }\n\n}\n\nconst reduxState = state => {\n  return {\n    usernamechangepass: state.Auth.username,\n    userlog: state.Auth.login,\n    userid: state.Auth.id,\n    passuser: state.Auth.password,\n    role: state.Auth.role\n  };\n};\n\nexport default connect(reduxState, {\n  userChangePassword\n})(SettingUser);","map":{"version":3,"sources":["C:/Users/HARUN/Documents/GitHub/ujian-front-end/src/pages/ChangePassword.jsx"],"names":["React","Component","Redirect","Axios","connect","Swal","API_URL","userChangePassword","SettingUser","state","passChangeSuccess","handleChangePassClick","currentPassword","refs","value","passwordbaru","password","konfirmasipassword","updatePass","username","props","usernamechangepass","role","console","log","fire","icon","title","text","passuser","put","userid","then","res","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","result","GantiPassword","data","setState","showConfirmButton","timer","catch","err","componentDidMount","render","userlog","reduxState","Auth","login","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Axios from 'axios';\r\nimport {connect} from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\nimport { API_URL } from \"../supports/ApiUrl\"\r\nimport { userChangePassword } from '../redux/actions'\r\n\r\nclass SettingUser extends Component {\r\n    state = { \r\n        passChangeSuccess: false\r\n        \r\n     }\r\n\r\n    \r\n  componentDidMount() {\r\n    console.log(this.props.usernamechangepass);\r\n  }\r\n\r\n  handleChangePassClick = () => {\r\n    var currentPassword = this.refs.currentPassword.value;\r\n    var passwordbaru = this.refs.passwordbaru.value;\r\n    var password = this.refs.konfirmasipassword.value;\r\n\r\n    var updatePass = {\r\n        password,\r\n        username: this.props.usernamechangepass,\r\n        role: this.props.role\r\n    };\r\n    console.log(updatePass);\r\n    if (currentPassword === \"\" || passwordbaru === \"\" || password === \"\") {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Oops...\",\r\n        text: \"Password Gaboleh Kosong!\"\r\n      });\r\n    } else if (currentPassword === passwordbaru) {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Oops...\",\r\n        text: \"Password Baru tidak boleh sama dgn password lama\"\r\n      });\r\n    } else if (currentPassword !== this.props.passuser) {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Oops...\",\r\n        text: \"Password yang anda masukkan salah\"\r\n      });\r\n    } else if (passwordbaru !== password) {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Oops...\",\r\n        text: \"Password baru sama konfirmasi musti sama\"\r\n      });\r\n    } else {\r\n      Axios.put(`${API_URL}/users/${this.props.userid}`, updatePass)\r\n        .then(res => {\r\n          // console.log(res.data);\r\n          Swal.fire({\r\n            title: \"Anda Yakin?\",\r\n            showCancelButton: true,\r\n            confirmButtonColor: \"#3085d6\",\r\n            cancelButtonColor: \"#d33\",\r\n            cancelButtonText: \"Ora Sido\",\r\n            confirmButtonText: \"Sangat Yakin\"\r\n          }).then(result => {\r\n            if (result.value) {\r\n              this.props.GantiPassword(res.data);\r\n              this.setState({ passChangeSuccess: true });\r\n              Swal.fire({\r\n                title: \"Mantap.. Password telah terganti.\",\r\n                showConfirmButton: false,\r\n                timer: 3000\r\n              });\r\n            }\r\n          });\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n\r\n\r\n    render() { \r\n\r\n        if (this.state.passChangeSuccess || this.props.userlog === false) {\r\n            return <Redirect to=\"/\" />;\r\n          }\r\n        return ( \r\n          <div className=\"register-container\">\r\n          <form onSubmit={this.handleChangePassClick} >\r\n          <div className=\"auth-card\">\r\n          <p className=\"register-title\">Change Password</p>\r\n          <p className=\"register-title\" >{this.props.usernamechangepass} </p>\r\n          <input\r\n            className=\"input\"\r\n            placeholder=\"password saat ini\"\r\n            type=\"password\"\r\n            ref=\"currentPassword\"\r\n          />\r\n          <input\r\n            className=\"input\"\r\n            placeholder=\"password baru\"\r\n            type=\"password\"\r\n            ref=\"passwordbaru\"\r\n          />\r\n          <input\r\n            className=\"input\"\r\n            placeholder=\"konfirmasi password baru\"\r\n            type=\"password\"\r\n            ref=\"konfirmasipassword\"\r\n          />\r\n          <button\r\n            className=\"register\"\r\n            onClick={this.handleChangePassClick}\r\n            title=\"Register\"\r\n            >\r\n                submit </button>\r\n        </div>\r\n            </form>\r\n       \r\n      </div>\r\n\r\n\r\n\r\n            // <div>\r\n                \r\n            //     <div style={{marginBottom:'220px'}} className='container'>\r\n            //         <h2 style={{textAlign:'center', paddingTop:'50px'}}>Silahkan Ganti Password</h2>\r\n            //       <center>\r\n            //       <div className='settinguser'>\r\n            //       <Form.Group style={{textAlign:'center'}} controlId=\"formBasicPassword\">\r\n            //       <Form.Label style={{fontWeight:'bold'}}>Username</Form.Label>\r\n            //       <Form.Control style={{textAlign:'center'}} type=\"text\"   defaultValue={this.props.usernamechangepass}\r\n            //       ref=\"user\" disabled/>\r\n            //       </Form.Group>\r\n            //       <Form.Group controlId=\"formBasicPassword\">\r\n            //        <Form.Control style={{textAlign:'center'}} type=\"password\" ref='currentPassword' placeholder=\"Ketik Password Lama\" />\r\n            //        </Form.Group>\r\n            //        <Form.Group controlId=\"formBasicPassword\">\r\n            //        <Form.Control style={{textAlign:'center'}} type=\"password\" ref='passwordbaru' placeholder=\"Ketik Password Baru\" />\r\n            //        </Form.Group>\r\n            //        <Form.Group controlId=\"formBasicPassword\">\r\n            //        <Form.Control style={{textAlign:'center'}} type=\"password\" ref='konfirmasipassword' placeholder=\"Konfirmasi Password Baru\" />\r\n            //        </Form.Group>\r\n                   \r\n\r\n            //        <Button onClick={this.handleChangePassClick}  variant=\"danger\" >Submit</Button>\r\n            //       </div>\r\n            //       </center>\r\n            //     </div>\r\n                \r\n            // </div>\r\n         );\r\n    }\r\n}\r\n\r\n\r\nconst reduxState = state => {\r\n    return {\r\n      usernamechangepass: state.Auth.username,\r\n      userlog: state.Auth.login,\r\n      userid: state.Auth.id,\r\n      passuser: state.Auth.password,\r\n      role: state.Auth.role\r\n    };\r\n  };\r\n  \r\n  export default connect(reduxState, { userChangePassword })(SettingUser);\r\n \r\n"]},"metadata":{},"sourceType":"module"}